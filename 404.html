<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="hexcod.es: type, paste, or link any hex color. View full screen, copy, or download as PNG ‚Äî links like hexcod.es/ff9900 or hexcod.es/#ff9900 just work.">
    <link rel="canonical" href="https://hexcod.es/">

    <!-- Favicons -->
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" id="og-title" content="hexcod.es ‚Äî Instantly share hex colors">
    <meta property="og:description" id="og-description" content="Type, paste, or link a hex color. Fullscreen view, copy to clipboard, and one-click PNG download.">
    <meta property="og:url" id="og-url" content="https://hexcod.es/">
    <meta property="og:image" id="og-image" content="https://hexcod.es/social-card.png">
    <meta property="og:site_name" content="hexcod.es">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" id="twitter-title" content="hexcod.es ‚Äî Instantly share hex colors">
    <meta name="twitter:description" id="twitter-description" content="Links like hexcod.es/ff9900 or hexcod.es/#ff9900 open the color. Copy, download, or go fullscreen in a click.">
    <meta name="twitter:image" id="twitter-image" content="https://hexcod.es/social-card.png">
    <meta name="twitter:site" content="@aidancomi">

    <meta name="theme-color" content="#000000">
    <title id="page-title">hexcod.es ‚Äî Hex Color Display</title>

    <script>
    // Update meta tags immediately based on URL (for social media crawlers)
    (function() {
        const pathname = window.location.pathname;
        const hash = window.location.hash.slice(1);
        
        // Extract hex from pathname or hash
        let hex = pathname.slice(1).toLowerCase();
        if (!hex && hash) {
            hex = hash.toLowerCase();
        }
        
        // Remove # if present
        hex = hex.replace(/^#/, '');
        
        // Validate hex format
        const isValidHex = /^[0-9a-f]{3}$|^[0-9a-f]{6}$/i.test(hex);
        
        if (isValidHex) {
            // Normalize to 6-digit
            if (hex.length === 3) {
                hex = hex.split('').map(c => c + c).join('');
            }
            const hexUpper = hex.toUpperCase();
            const hexWithHash = '#' + hexUpper;
            
            // Update meta tags
            const ogTitle = document.getElementById('og-title');
            const ogDesc = document.getElementById('og-description');
            const ogImage = document.getElementById('og-image');
            const twitterTitle = document.getElementById('twitter-title');
            const twitterDesc = document.getElementById('twitter-description');
            const twitterImage = document.getElementById('twitter-image');
            const ogUrl = document.getElementById('og-url');
            const pageTitle = document.getElementById('page-title');
            
            if (ogTitle) ogTitle.setAttribute('content', `#${hexUpper} ‚Äî View this color on hexcod.es`);
            if (ogDesc) ogDesc.setAttribute('content', `View #${hexUpper} on hexcod.es ‚Äî Fullscreen, copy, or download this color.`);
            if (twitterTitle) twitterTitle.setAttribute('content', `#${hexUpper} ‚Äî View this color on hexcod.es`);
            if (twitterDesc) twitterDesc.setAttribute('content', `View #${hexUpper} on hexcod.es ‚Äî Fullscreen, copy, or download this color.`);
            if (ogUrl) ogUrl.setAttribute('content', window.location.href);
            
            // Generate preview image URL (using a data URL approach)
            // Note: Some crawlers may not support data URLs, but this is the best we can do for static sites
            const canvas = document.createElement('canvas');
            canvas.width = 1200;
            canvas.height = 630;
            const ctx = canvas.getContext('2d');
            ctx.fillStyle = hexWithHash;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Add text
            const isLight = (parseInt(hex.slice(0, 2), 16) * 0.299 + 
                           parseInt(hex.slice(2, 4), 16) * 0.587 + 
                           parseInt(hex.slice(4, 6), 16) * 0.114) > 128;
            ctx.fillStyle = isLight ? '#000000' : '#ffffff';
            ctx.font = 'bold 120px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(hexWithHash, canvas.width / 2, canvas.height / 2);
            
            const previewImage = canvas.toDataURL('image/png');
            if (ogImage) ogImage.setAttribute('content', previewImage);
            if (twitterImage) twitterImage.setAttribute('content', previewImage);
            
            // Update page title
            if (pageTitle) pageTitle.textContent = `#${hexUpper} ‚Äî hexcod.es`;
        }
    })();
    </script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="color-display" class="color-display"></div>
    
    <div id="controls" class="controls">
        <div class="controls-content">
            <div class="color-picker-container">
                <label for="color-picker" class="sr-only">Color Picker</label>
                <input type="color" id="color-picker" aria-label="Select a color">
            </div>
            
            <div class="hex-display">
                <input type="text" id="hex-input" class="hex-input" aria-label="Hex code" placeholder="#000000">
            </div>
            
            <div class="button-group">
                <button id="copy-btn" class="btn btn-primary" aria-label="Copy hex code to clipboard">
                    <span class="btn-text">Copy</span>
                    <span class="btn-icon">üìã</span>
                </button>
                <div class="download-container">
                    <button id="download-btn" class="btn btn-secondary" aria-label="Download color as image">
                        <span class="btn-text">Download</span>
                        <span class="btn-icon">‚¨áÔ∏è</span>
                    </button>
                    <div id="download-menu" class="download-menu" role="menu">
                        <button class="download-option" data-resolution="1080p" role="menuitem">1080p (1920√ó1080)</button>
                        <button class="download-option" data-resolution="1440p" role="menuitem">1440p (2560√ó1440)</button>
                        <button class="download-option" data-resolution="4k" role="menuitem">4K (3840√ó2160)</button>
                        <button class="download-option" data-resolution="6k" role="menuitem">6K (6144√ó3456)</button>
                        <button class="download-option" data-resolution="8k" role="menuitem">8K (7680√ó4320)</button>
                    </div>
                </div>
                <button id="fullscreen-btn" class="btn btn-secondary" aria-label="Toggle fullscreen mode">
                    <span class="btn-text">Fullscreen</span>
                    <span class="btn-icon">‚õ∂</span>
                </button>
            </div>
        </div>
    </div>
    
    <div id="toast" class="toast" aria-live="polite" aria-atomic="true"></div>
    
    <script src="script.js"></script>
</body>
</html>
